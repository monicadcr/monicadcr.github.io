<!DOCTYPE>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta content="charset=UTF-8"/>
<title>3DHOP - Arco di Ber√†</title>
<!--STYLESHEET-->
<link type="text/css" rel="stylesheet" href="stylesheet/3dhop.css"/>
<!--SPIDERGL-->
<script type="text/javascript" src="js/spidergl.js"></script>
<!--JQUERY-->
<script type="text/javascript" src="js/jquery.js"></script>
<!--PRESENTER-->
<script type="text/javascript" src="js/presenter.js"></script>
<!--3D MODELS LOADING AND RENDERING-->
<script type="text/javascript" src="js/nexus.js"></script>
<script type="text/javascript" src="js/ply.js"></script>
<!--TRACKBALLS-->
<script type="text/javascript" src="js/trackball_sphere.js"></script>
<script type="text/javascript" src="js/trackball_turntable.js"></script>
<script type="text/javascript" src="js/trackball_turntable_pan.js"></script>
<script type="text/javascript" src="js/trackball_pantilt.js"></script>
<!--UTILITY-->
<script type="text/javascript" src="js/init.js"></script>
</head>
<body>
<div id="3dhop" class="tdhop"><div id="tdhlg"></div>
 <div id="toolbar">
  <img id="home"     title="Home"                  src="skins/light/home.png"            /><br/>
  <img id="rotate"        title="Rotate"                   src="skins/light/rotate.png"/><br/>
  <img id="zoomin"   title="Zoom In"               src="skins/light/zoomin.png"          /><br/>
  <img id="zoomout"  title="Zoom Out"              src="skins/light/zoomout.png"         /><br/>
  <img id="light_on" title="Disable Light Control" src="skins/light/lightcontrol_on.png" style="position:absolute; visibility:hidden;"/>
  <img id="light"    title="Enable Light Control"  src="skins/light/lightcontrol.png"    /><br/>
  <img id="full_on"  title="Exit Full Screen"      src="skins/light/full_on.png"         style="position:absolute; visibility:hidden;"/>
  <img id="full"     title="Full Screen"           src="skins/light/full.png"   /><br/>
  <img id="bookmark1"        title="Bookmark"           src="skins/dark/1.png"/><br/>
  <img id="bookmark2"        title="Bookmark"           src="skins/dark/2.png"/><br/>
  <img id="bookmark3"        title="Bookmark"           src="skins/dark/3.png"/><br/>
  <img id="bookmark4"        title="Bookmark"           src="skins/dark/4.png"/><br/>
 </div>
 <canvas id="draw-canvas" style="background-image: url(skins/backgrounds/sfondo2.jpg)"/>
</div>
</body>

<script type="text/javascript">
var presenter = null;

function setup3dhop() { 
	presenter = new Presenter("draw-canvas");

	presenter.setScene({
		meshes: {
			"Laurana" : { url: "models/textured_arco.nxz" }
		},
		modelInstances : {
			"Model1" : { mesh : "Laurana" } 
		},
		trackball: {
			type : TurntablePanTrackball,
			trackOptions : {
				startPhi: 35.0,
				startTheta: 4.0,
				startDistance: 2.3,
				minMaxPhi: [-360, 360],
				minMaxTheta: [-0.5, 0.5],
				minMaxDist: [0.55, 3.0]
			}
		}
	});
}

function actionsToolbar(action) {
	if(action=='home') presenter.resetTrackball(); 
	else if(action=='rotate') presenter.animateToTrackballPosition([145,4,0,0,0,2.4]);
	else if(action=='zoomin') presenter.zoomIn();
	else if(action=='zoomout') presenter.zoomOut(); 
	else if(action=='light' || action=='light_on') { presenter.enableLightTrackball(!presenter.isLightTrackballEnabled()); lightSwitch(); } 
	else if(action=='full'  || action=='full_on') fullscreenSwitch(); 
	else if(action=='full'  || action=='full_on') fullscreenSwitch();
	else if(action=='bookmark1') presenter.animateToTrackballPosition([1.6567092252706006, -0.5, -0.0728936318684433, 0.5836869514981547, 0.01777892476137129, 1.0717944050000008]);
	else if(action=='bookmark2') presenter.animateToTrackballPosition([180.36409627622808, -2.1632910233196077, -0.2959920663029027, -0.37186521183966925, -0.11492746947916396, 0.5]);
	else if(action=='bookmark3') presenter.animateToTrackballPosition([2.607676520093531, 7.6523206064116165, 0.4214039208067851, -0.6303580548722466, -0.2747224148042953, 0.8]);
	else if(action=='bookmark4') presenter.animateToTrackballPosition([3.5129422925187987, -2.6309420971735156, 0.41852661666200647, 0.5524127969938537, -0.49413616437345564, 0.9727131651205819]);

}

$(document).ready(function(){
	init3dhop();

	setup3dhop();
});
</script>
</html>
